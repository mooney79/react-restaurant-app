(this["webpackJsonpreact-restaurant-app"]=this["webpackJsonpreact-restaurant-app"]||[]).push([[0],{25:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(18),s=n.n(c),i=(n(25),n(12)),o=n.n(i),l=n(14),u=n(6),j=n(2),d=n(10),b=n(0);var p=function(e){return Object(b.jsx)("li",{children:Object(b.jsxs)("div",{className:"menu-line",children:[Object(b.jsx)("span",{children:e.name}),Object(b.jsxs)("div",{className:"line-end",children:[Object(b.jsx)("span",{children:e.priceStr}),Object(b.jsx)("button",{type:"button",onClick:function(t){var n={name:e.name,priceStr:e.priceStr,priceCents:e.priceCents,category:e.category};e.setOrder([].concat(Object(d.a)(e.order),[n]))},name:e.name,children:"+"})]})]})})};var O=function(e){var t;return t="all"===e.selection?e.Menu.map((function(t){return Object(b.jsx)(p,Object(j.a)(Object(j.a)({},t),{},{order:e.order,setOrder:e.setOrder}),t.name)})):e.Menu.filter((function(t){return e.selection===t.category})).map((function(t){return Object(b.jsx)(p,Object(j.a)(Object(j.a)({},t),{},{order:e.order,setOrder:e.setOrder}),t.name)})),Object(b.jsx)("ul",{className:"mainpane",children:t})};var m=function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("button",{className:"nav-button",type:"button",onClick:function(t){e.selection===e.value?e.setSelection("all"):e.setSelection(e.value)},children:[e.value," "]},e.value)})};var h=function(e){var t=e.Menu.map((function(e){return e.category})),n=Object(d.a)(new Set(t)).map((function(t){return Object(b.jsx)(m,{value:t,setSelection:e.setSelection,selection:e.selection},t)}));return Object(b.jsx)("div",{className:"nav-button-div",children:n})},f=n(20),x=n(11);var v=function(e){return Object(b.jsxs)(f.a,{className:"sidepane",children:[Object(b.jsx)("i",{className:"fas fa-car-alt"})," \xa0\xa0 Items in your cart!: ",e.order.length," \xa0",Object(b.jsx)("i",{className:"fas fa-shopping-cart"}),Object(b.jsxs)("p",{children:[" ",Object(b.jsx)("span",{children:"Subtotal:"}),"\xa0 $",e.subtotal/100]}),Object(b.jsx)(x.a,{type:"button",onClick:function(){return e.setCheckout(!0)},variant:"primary",children:" Checkout"})]})},y=n(8);var g=function(e){return Object(b.jsx)("li",{children:Object(b.jsxs)("div",{className:"menu-line",children:[Object(b.jsx)("span",{children:e.name}),Object(b.jsxs)("div",{className:"line-end",children:[Object(b.jsx)("span",{children:e.priceStr}),Object(b.jsx)("button",{type:"button",onClick:function(t){var n=e.order.findIndex((function(e){return e.name===t.target.name})),a=Object(d.a)(e.order);a.splice(n,1),e.setOrder(a)},name:e.name,children:"remove"})]})]})})},N=n(19);var C=function(e){var t=Object(a.useState)({firstName:"",lastName:"",address:"",city:"",state:"",zip:""}),n=Object(u.a)(t,2),r=n[0],c=n[1],s=e.order.map((function(t){return Object(b.jsx)(g,Object(j.a)(Object(j.a)({},t),{},{order:e.order,setOrder:e.setOrder}),Math.floor(1e4*Math.random()))}));function i(e){var t=e.target.name,n=e.target.value;c(Object(j.a)(Object(j.a)({},r),{},Object(y.a)({},t,n)))}function d(){return d=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={customer:t,order:n},e.next=3,fetch("https://django-restaurant-api-mooney79.herokuapp.com/api_v1/orders/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).catch(console.log("Something went wrong"));case 3:e.sent.ok&&console.log("Order Submitted!");case 5:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(N.a,{onSubmit:function(t){t.preventDefault(),function(e,t){d.apply(this,arguments)}({firstName:r.firstName,lastName:r.lastName,address:r.address,city:r.city,state:r.state,zip:r.zip},e.order),e.setCheckout(!1),e.setOrder([])},className:"mainpane solitarymain",children:[Object(b.jsx)("input",{name:"firstName",type:"text",id:"firstName",value:r.firstName,onChange:i,autoComplete:"off",placeholder:"First Name"}),Object(b.jsx)("input",{name:"lastName",type:"text",id:"lastName",value:r.lastName,onChange:i,autoComplete:"off",placeholder:"Last Name"}),Object(b.jsx)("input",{name:"address",type:"text",id:"address",value:r.address,onChange:i,autoComplete:"off",placeholder:"123 Placeholder St"}),Object(b.jsx)("input",{name:"city",type:"text",id:"city",value:r.city,onChange:i,autoComplete:"off",placeholder:"City"}),Object(b.jsx)("input",{name:"state",type:"text",id:"state",value:r.state,onChange:i,autoComplete:"off",placeholder:"State"}),Object(b.jsx)("input",{name:"zip",type:"text",id:"zip",value:r.zip,onChange:i,autoComplete:"off",placeholder:"Zip"}),s,Object(b.jsx)("div",{className:"subtotal",children:Object(b.jsxs)("div",{className:"vert",children:[Object(b.jsxs)("p",{children:[" ",Object(b.jsx)("span",{children:"Subtotal:"}),"\xa0 $",e.subtotal/100]}),Object(b.jsx)("br",{}),Object(b.jsx)(x.a,{type:"submit",variant:"primary",className:"form-button",children:"Submit Order"})]})})]})})};var S=function(e){return Object(b.jsx)("div",{className:"sidepane back-menu",children:Object(b.jsx)(x.a,{className:"back-button",variant:"primary",onClick:function(){e.setCheckout(!1)},children:"Return to the Menu"})})},k=(n(30),n.p+"static/media/logo.953dd02a.png");n(31);var w=function(){var e,t,n,r=Object(a.useState)("all"),c=Object(u.a)(r,2),s=c[0],i=c[1],j=Object(a.useState)(0),d=Object(u.a)(j,2),p=d[0],m=d[1],f=Object(a.useState)([]),x=Object(u.a)(f,2),y=x[0],g=x[1],N=Object(a.useState)(!1),w=Object(u.a)(N,2),M=w[0],z=w[1],F=Object(a.useState)([]),P=Object(u.a)(F,2),I=P[0],T=P[1];function E(){return(E=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://django-restaurant-api-mooney79.herokuapp.com/api_v1/menuitems/");case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:n=e.sent,T(n),console.log(I);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){E.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){for(var e=0,t=0;t<y.length;t++)e+=y[t].priceCents;m(e)}),[y]),M?(e=Object(b.jsx)(C,{order:y,subtotal:p,setOrder:g,setCheckout:z}),n=null,t=Object(b.jsx)(S,{setCheckout:z})):(n=Object(b.jsx)(h,{Menu:I,selection:s,setSelection:i}),e=Object(b.jsx)(O,{Menu:I,selection:s,order:y,setOrder:g}),t=Object(b.jsx)(v,{order:y,subtotal:p,setOrder:g,setCheckout:z})),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("header",{children:[Object(b.jsxs)("div",{className:"wrap",children:[Object(b.jsx)("img",{src:k,alt:"logo",className:"logo"}),Object(b.jsx)("h1",{children:"Mr. Fancy's Pizza"})]}),t]}),Object(b.jsxs)("div",{className:"testcontainer",children:[e,n]})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(w,{})}),document.getElementById("root")),M()}},[[32,1,2]]]);
//# sourceMappingURL=main.5a9cfb1b.chunk.js.map